


ARM Macro Assembler    Page 1 


    1 00000000         ;****************** Lab3.s ***************
    2 00000000         ; Program written by: Put your names here
    3 00000000         ; Date Created: 2/4/2017
    4 00000000         ; Last Modified: 1/4/2023
    5 00000000         ; Brief description of the program
    6 00000000         ;   The LED toggles at 2 Hz and a varying duty-cycle
    7 00000000         ; Hardware connections (External: Two buttons and one LE
                       D)
    8 00000000         ;  Change is Button input  (1 means pressed, 0 means not
                        pressed)
    9 00000000         ;  Breathe is Button input  (1 means pressed, 0 means no
                       t pressed)
   10 00000000         ;  LED is an output (1 activates external LED)
   11 00000000         ; Overall functionality of this system is to operate lik
                       e this
   12 00000000         ;   1) Make LED an output and make Change and Breathe in
                       puts.
   13 00000000         ;   2) The system starts with the the LED toggling at 2H
                       z,
   14 00000000         ;      which is 2 times per second with a duty-cycle of 
                       30%.
   15 00000000         ;      Therefore, the LED is ON for 150ms and off for 35
                       0 ms.
   16 00000000         ;   3) When the Change button is pressed-and-released in
                       crease
   17 00000000         ;      the duty cycle by 20% (modulo 100%). Therefore fo
                       r each
   18 00000000         ;      press-and-release the duty cycle changes from 30%
                        to 70% to 70%
   19 00000000         ;      to 90% to 10% to 30% so on
   20 00000000         ;   4) Implement a "breathing LED" when Breathe Switch i
                       s pressed:
   21 00000000         
   22 00000000         
   23 00000000         ; ***********************************************
   24 00000000         ; CONSTANT DEFINITION 
   25 00000000         ; ***********************************************
   26 00000000         
   27 00000000         ; PortD device registers
   28 00000000 400243FC 
                       GPIO_PORTE_DATA_R
                               EQU              0x400243FC
   29 00000000 40024400 
                       GPIO_PORTE_DIR_R
                               EQU              0x40024400
   30 00000000 4002451C 
                       GPIO_PORTE_DEN_R
                               EQU              0x4002451C
   31 00000000 400FE608 
                       SYSCTL_RCGCGPIO_R
                               EQU              0x400FE608
   32 00000000         
   33 00000000         ; LED pin config
   34 00000000 400243FC 
                       GPIO_LED_DATA_R
                               EQU              GPIO_PORTE_DATA_R
   35 00000000 00000020 
                       GPIO_LED_PIN_MASK
                               EQU              0x20



ARM Macro Assembler    Page 2 


   36 00000000         
   37 00000000         ; CHANGE button config
   38 00000000         ; duty_cycle = cycle_unit * ratio
   39 00000000         ; Assuming ratio = percent / 10. This is to avoid using 
                       float number in program
   40 00000000         ; So if cycle_unit = 50, ratio = 3, means:
   41 00000000         ;  cycle = 50 * 3 = 150ms
   42 00000000         ;  duty cycle percentage = 10 * 3 = 30 (%)
   43 00000000 400243FC 
                       GPIO_CHANGE_DATA_R
                               EQU              GPIO_PORTE_DATA_R
   44 00000000 00000001 
                       GPIO_CHANGE_PIN_MASK
                               EQU              0x1
   45 00000000         
   46 00000000 00000032 
                       CHANGE_CYCLE_UNIT_DEFAULT
                               EQU              50
   47 00000000 00000003 
                       CHANGE_DUTYCYCLE_RATIO_DEFAULT
                               EQU              3
   48 00000000         
   49 00000000         ; BREATHE button config
   50 00000000 400243FC 
                       GPIO_BREATHE_DATA_R
                               EQU              GPIO_PORTE_DATA_R
   51 00000000 00000004 
                       GPIO_BREATHE_PIN_MASK
                               EQU              0x4
   52 00000000         
   53 00000000 00000001 
                       BREATHE_CYCLE_UNIT_DEFAULT
                               EQU              1
   54 00000000 00000003 
                       BREATHE_DUTYCYCLE_RATIO_DEFAULT
                               EQU              3
   55 00000000 00000001 
                       BREATHE_DUTYCYCLE_RATIO_INCREMENT
                               EQU              1
   56 00000000         
   57 00000000         
   58 00000000                 IMPORT           TExaS_Init
   59 00000000                 THUMB
   60 00000000                 AREA             DATA, ALIGN=2
   61 00000000         ; ***********************************************
   62 00000000         ; GLOBAL VARIABLE
   63 00000000         ; ***********************************************
   64 00000000 00 00 00 
              00       CHANGE_cycle_unit
                               SPACE            4
   65 00000004 00 00 00 
              00       CHANGE_dutycycle_ratio
                               SPACE            4
   66 00000008         
   67 00000008 00 00 00 
              00       BREATHE_dutycycle_ratio
                               SPACE            4
   68 0000000C 00 00 00 
              00       BREATHE_brightness_isIncrease



ARM Macro Assembler    Page 3 


                               SPACE            4
   69 00000010         
   70 00000010                 AREA             |.text|, CODE, READONLY, ALIGN=
3
   71 00000000                 THUMB
   72 00000000                 EXPORT           EID1
   73 00000000 4D 69 6E 
              74 00    EID1    DCB              "Mint",0    ;replace ABC123 wit
                                                            h your EID
   74 00000005                 EXPORT           EID2
   75 00000005 4D 69 6E 
              74 00    EID2    DCB              "Mint",0    ;replace ABC123 wit
                                                            h your EID
   76 0000000A 00 00           ALIGN            4
   77 0000000C         
   78 0000000C                 EXPORT           Start
   79 0000000C         
   80 0000000C 00000000        ALIGN            8
   81 00000010         
   82 00000010         
   83 00000010         ; ***********************************************
   84 00000010         ; Program starts
   85 00000010         ; ***********************************************
   86 00000010         Start
   87 00000010         ; TExaS_Init sets bus clock at 80 MHz, interrupts, ADC1,
                        TIMER3, TIMER5, and UART0
   88 00000010 F04F 0002       MOV              R0,#2       ;0 for TExaS oscill
                                                            oscope, 1 for PORTE
                                                             logic analyzer, 2 
                                                            for Lab3 grader, 3 
                                                            for none
   89 00000014 F7FF FFFE       BL               TExaS_Init  ;enables interrupts
                                                            , prints the pin se
                                                            lections based on E
                                                            ID1 EID2
   90 00000018         ; Your Initialization goes here
   91 00000018 F000 F817       BL               GPIO_init
   92 0000001C F000 F825       BL               VARIABLE_init
   93 00000020         
   94 00000020         loop
   95 00000020 F000 F8A0       BL               CHANGE_handle_status
   96 00000024 F000 F8EC       BL               BREATHE_handle_status
   97 00000028 F000 F849       BL               LED_on
   98 0000002C F000 F886       BL               CHANGE_get_dutycycle
   99 00000030 F000 F837       BL               delay_ms
  100 00000034         
  101 00000034 F000 F896       BL               CHANGE_handle_status
  102 00000038 F000 F8E2       BL               BREATHE_handle_status
  103 0000003C F000 F845       BL               LED_off
  104 00000040 F000 F886       BL               CHANGE_get_idlecycle
  105 00000044 F000 F82D       BL               delay_ms
  106 00000048         
  107 00000048 E7EA            B                loop
  108 0000004A         
  109 0000004A         
  110 0000004A         ; ***********************************************
  111 0000004A         ; Function definition 
  112 0000004A         ; ***********************************************
  113 0000004A         



ARM Macro Assembler    Page 4 


  114 0000004A         ; ARM Architecture Procedure Call Standard (AAPCS)
  115 0000004A         ;     We use R0,R1,R2,R3 as input parameters
  116 0000004A         ;     We use R0 as the return parameter.
  117 0000004A         ;     We can freely use R0,R1,R2,R3,R12 without needing 
                       to push or pop.
  118 0000004A         ;     We can use R4-R11, but must push the values at the
                        start and pop the values at then end.
  119 0000004A         GPIO_init
  120 0000004A         ; Enable clock for Port D
  121 0000004A 4825            LDR              R0,=SYSCTL_RCGCGPIO_R
  122 0000004C 6801            LDR              R1,[R0]
  123 0000004E F041 0110       ORR              R1,R1,#0x10 ; bit 4 is PortE
  124 00000052 6001            STR              R1,[R0]
  125 00000054 BF00            NOP                          ; wait to stablize 
                                                            the clock
  126 00000056 BF00            NOP
  127 00000058         
  128 00000058         ; Config PD0, PD2 as input. PD5 as output
  129 00000058 4822            LDR              R0,=GPIO_PORTE_DIR_R
  130 0000005A F04F 0120       MOV              R1,#0x20
  131 0000005E 6001            STR              R1,[R0]
  132 00000060         
  133 00000060         ; Enable PD0, PD2, PD5;
  134 00000060 4821            LDR              R0,=GPIO_PORTE_DEN_R
  135 00000062 F04F 0125       MOV              R1,#0x25
  136 00000066 6001            STR              R1,[R0]
  137 00000068         
  138 00000068 4770            BX               LR
  139 0000006A         
  140 0000006A         
  141 0000006A         VARIABLE_init
  142 0000006A 4920            LDR              R1,=CHANGE_cycle_unit
  143 0000006C 6808            LDR              R0,[R1]
  144 0000006E F04F 0032       MOV              R0,#CHANGE_CYCLE_UNIT_DEFAULT
  145 00000072 6008            STR              R0,[R1]
  146 00000074         
  147 00000074 491E            LDR              R1,=CHANGE_dutycycle_ratio
  148 00000076 6808            LDR              R0,[R1]
  149 00000078 F04F 0003       MOV              R0,#CHANGE_DUTYCYCLE_RATIO_DEFA
ULT
  150 0000007C 6008            STR              R0,[R1]
  151 0000007E         
  152 0000007E 491D            LDR              R1,=BREATHE_dutycycle_ratio
  153 00000080 6808            LDR              R0,[R1]
  154 00000082 F04F 0003       MOV              R0,#BREATHE_DUTYCYCLE_RATIO_DEF
AULT
  155 00000086 6008            STR              R0,[R1]
  156 00000088         
  157 00000088 491B            LDR              R1,=BREATHE_brightness_isIncrea
se
  158 0000008A 6808            LDR              R0,[R1]
  159 0000008C F04F 0001       MOV              R0,#1
  160 00000090 6008            STR              R0,[R1]
  161 00000092         
  162 00000092 4770            BX               LR
  163 00000094         
  164 00000094         
  165 00000094         delay_100ns                          ; Input: R0. Output
                                                            : delay R0 * 100ns



ARM Macro Assembler    Page 5 


  166 00000094 BF00            NOP
  167 00000096 BF00            NOP
  168 00000098 BF00            NOP
  169 0000009A BF00            NOP
  170 0000009C 1E40            SUBS             R0,R0,#1
  171 0000009E D1F9            BNE              delay_100ns
  172 000000A0 4770            BX               LR
  173 000000A2         
  174 000000A2         
  175 000000A2         delay_ms                             ; Input: R0 (ms)
  176 000000A2 2800            CMP              R0,#0       ; If R0 = 0ms then 
                                                            exit
  177 000000A4 D00B            BEQ              delay_ms_endloop
  178 000000A6 B510            PUSH             {R4, LR}
  179 000000A8 F242 7410       MOV              R4,#10000
  180 000000AC FB00 F004       MUL              R0,R0,R4
  181 000000B0         delay_ms_loop
  182 000000B0 1E40            SUBS             R0,R0,#1
  183 000000B2 F7FF FFEF       BL               delay_100ns
  184 000000B6 D1FB            BNE              delay_ms_loop
  185 000000B8 E8BD 4010       POP              {R4, LR}
  186 000000BC 4770            BX               LR
  187 000000BE         delay_ms_endloop
  188 000000BE         
  189 000000BE         
  190 000000BE         LED_on                               ; Input: none
  191 000000BE 490F            LDR              R1,=GPIO_LED_DATA_R
  192 000000C0 6808            LDR              R0,[R1]
  193 000000C2 F040 0020       ORR              R0,R0,#GPIO_LED_PIN_MASK
  194 000000C6 6008            STR              R0,[R1]
  195 000000C8 4770            BX               LR
  196 000000CA         
  197 000000CA         
  198 000000CA         LED_off                              ; Input: none
  199 000000CA 490C            LDR              R1,=GPIO_LED_DATA_R
  200 000000CC 6808            LDR              R0,[R1]
  201 000000CE F020 0020       BIC              R0,R0,#GPIO_LED_PIN_MASK
  202 000000D2 6008            STR              R0,[R1]
  203 000000D4 4770            BX               LR
  204 000000D6         
  205 000000D6         
  206 000000D6         CHANGE_read                          ; Input: none. Outp
                                                            ut: boolean
  207 000000D6 4809            LDR              R0,=GPIO_CHANGE_DATA_R
  208 000000D8 6800            LDR              R0,[R0]
  209 000000DA F000 0001       AND              R0,R0,#GPIO_CHANGE_PIN_MASK
  210 000000DE 4770            BX               LR
  211 000000E0         
  212 000000E0         
  213 000000E0 400FE608 
              40024400 
              4002451C 
              00000000 
              00000000 
              00000000 
              00000000 
              400243FC         LTORG                        ; Allocate memory f
                                                            or variable and lit
                                                            eral constants



ARM Macro Assembler    Page 6 


  214 00000100         
  215 00000100         
  216 00000100         CHANGE_waitRelease                   ; Input: none
  217 00000100 B500            PUSH             {LR}
  218 00000102         CHANGE_waitRelease_loop
  219 00000102 F7FF FFE8       BL               CHANGE_read
  220 00000106 F010 0001       ANDS             R0,#GPIO_CHANGE_PIN_MASK
  221 0000010A D1FA            BNE              CHANGE_waitRelease_loop
  222 0000010C F85D EB04       POP              {LR}
  223 00000110 4770            BX               LR
  224 00000112         
  225 00000112         
  226 00000112         CHANGE_handle_event                  ; Input: none
  227 00000112 B500            PUSH             {LR}
  228 00000114 49F4            LDR              R1,=CHANGE_dutycycle_ratio
  229 00000116 6808            LDR              R0,[R1]
  230 00000118 F100 0002       ADD              R0,#2       ; Increase dutycycl
                                                            e by 20%
  231 0000011C         CHANGE_handle_event_if               ; If ratio > 100% t
                                                            hen modulo 100
  232 0000011C 280A            CMP              R0,#10
  233 0000011E DD00            BLE              CHANGE_handle_event_endif
  234 00000120 380A            SUBS             R0,#10
  235 00000122         CHANGE_handle_event_endif
  236 00000122 6008            STR              R0,[R1]
  237 00000124 F85D EB04       POP{LR}
  238 00000128 4770            BX               LR
  239 0000012A         
  240 0000012A         
  241 0000012A         get_dutycycle                        ; Input: R0 (cycle_
                                                            unit), R1 (cycle_ra
                                                            tio). Output: numbe
                                                            r
  242 0000012A FB00 F001       MUL              R0,R0,R1
  243 0000012E 4770            BX               LR
  244 00000130         
  245 00000130         
  246 00000130         get_idlecycle                        ; Input: R0 (cycle_
                                                            unit), R1 (cycle_ra
                                                            tio). Output: numbe
                                                            r
  247 00000130 F04F 020A       MOV              R2,#10
  248 00000134 1A51            SUBS             R1,R2,R1
  249 00000136 FB00 F001       MUL              R0,R0,R1
  250 0000013A 4770            BX               LR
  251 0000013C         
  252 0000013C         
  253 0000013C         CHANGE_get_dutycycle                 ; Input: none. Outp
                                                            ut: number
  254 0000013C B500            PUSH             {LR}
  255 0000013E 48EB            LDR              R0,=CHANGE_cycle_unit
  256 00000140 6800            LDR              R0,[R0]
  257 00000142 49E9            LDR              R1,=CHANGE_dutycycle_ratio
  258 00000144 6809            LDR              R1,[R1]
  259 00000146 F7FF FFF0       BL               get_dutycycle
  260 0000014A F85D EB04       POP              {LR}
  261 0000014E 4770            BX               LR
  262 00000150         
  263 00000150         



ARM Macro Assembler    Page 7 


  264 00000150         CHANGE_get_idlecycle                 ; Input: none. Outp
                                                            ut: number
  265 00000150 B500            PUSH             {LR}
  266 00000152 48E6            LDR              R0,=CHANGE_cycle_unit
  267 00000154 6800            LDR              R0,[R0]
  268 00000156 49E4            LDR              R1,=CHANGE_dutycycle_ratio
  269 00000158 6809            LDR              R1,[R1]
  270 0000015A F7FF FFE9       BL               get_idlecycle
  271 0000015E F85D EB04       POP{LR}
  272 00000162 4770            BX               LR
  273 00000164         
  274 00000164         
  275 00000164         CHANGE_handle_status                 ; Input: none
  276 00000164 B500            PUSH             {LR}
  277 00000166 F7FF FFB6       BL               CHANGE_read
  278 0000016A         CHANGE_handle_status_if
  279 0000016A F010 0001       ANDS             R0,#GPIO_CHANGE_PIN_MASK
  280 0000016E D003            BEQ              CHANGE_handle_status_endif
  281 00000170 F7FF FFC6       BL               CHANGE_waitRelease
  282 00000174 F7FF FFCD       BL               CHANGE_handle_event
  283 00000178         CHANGE_handle_status_endif
  284 00000178 F85D EB04       POP{LR}
  285 0000017C 4770            BX               LR
  286 0000017E         
  287 0000017E         
  288 0000017E         LED_blink
  289 0000017E B500            PUSH             {LR}
  290 00000180 B403            PUSH             {R0, R1}
  291 00000182 B403            PUSH             {R0, R1}
  292 00000184         
  293 00000184 F7FF FF9B       BL               LED_on
  294 00000188 BC03            POP              {R0, R1}
  295 0000018A F7FF FFCE       BL               get_dutycycle
  296 0000018E F7FF FF88       BL               delay_ms
  297 00000192         
  298 00000192 F7FF FF9A       BL               LED_off
  299 00000196 BC03            POP              {R0, R1}
  300 00000198 F7FF FFCA       BL               get_idlecycle
  301 0000019C F7FF FF81       BL               delay_ms
  302 000001A0 F85D EB04       POP{LR}
  303 000001A4 4770            BX               LR
  304 000001A6         
  305 000001A6         
  306 000001A6         LED_BREATHE_PWM
  307 000001A6 B500            PUSH             {LR}
  308 000001A8 F04F 0303       MOV              R3,#BREATHE_DUTYCYCLE_RATIO_DEF
AULT
  309 000001AC         LED_BREATHE_PWM_loop
  310 000001AC 1E5B            SUBS             R3,R3,#1
  311 000001AE D004            BEQ              LED_BREATHE_PWM_endloop
  312 000001B0 4601            MOV              R1,R0
  313 000001B2 F04F 0001       MOV              R0,#BREATHE_CYCLE_UNIT_DEFAULT
  314 000001B6 F7FF FFE2       BL               LED_blink
  315 000001BA         LED_BREATHE_PWM_endloop
  316 000001BA F85D EB04       POP{LR}
  317 000001BE 4770            BX               LR
  318 000001C0         
  319 000001C0         
  320 000001C0         BREATHE_read



ARM Macro Assembler    Page 8 


  321 000001C0 48CB            LDR              R0,=GPIO_BREATHE_DATA_R
  322 000001C2 6800            LDR              R0,[R0]
  323 000001C4 F000 0004       AND              R0,R0,#GPIO_BREATHE_PIN_MASK
  324 000001C8 4770            BX               LR
  325 000001CA         
  326 000001CA         
  327 000001CA         BREATHE_update_brightness
  328 000001CA B500            PUSH             {LR}
  329 000001CC 49C9            LDR              R1,=BREATHE_dutycycle_ratio
  330 000001CE 6808            LDR              R0,[R1]
  331 000001D0 4BC9            LDR              R3,=BREATHE_brightness_isIncrea
se
  332 000001D2 681A            LDR              R2,[R3]
  333 000001D4         BREATHE_update_brightness_if
  334 000001D4 2A01            CMP              R2,#1
  335 000001D6 D108            BNE              BREATHE_update_brightness_else
  336 000001D8 F100 0001       ADD              R0,R0,#BREATHE_DUTYCYCLE_RATIO_
INCREMENT
  337 000001DC 6008            STR              R0,[R1]
  338 000001DE 280A            CMP              R0,#10
  339 000001E0 DB0B            BLT              BREATHE_update_brightness_endif
  340 000001E2 F04F 0200       MOV              R2,#0
  341 000001E6 601A            STR              R2,[R3]
  342 000001E8 E007            B                BREATHE_update_brightness_endif
  343 000001EA         BREATHE_update_brightness_else
  344 000001EA F1A0 0001       SUB              R0,R0,#BREATHE_DUTYCYCLE_RATIO_
INCREMENT
  345 000001EE 6008            STR              R0,[R1]
  346 000001F0 2800            CMP              R0,#0
  347 000001F2 DC02            BGT              BREATHE_update_brightness_endif
  348 000001F4 F04F 0201       MOV              R2,#1
  349 000001F8 601A            STR              R2,[R3]
  350 000001FA         BREATHE_update_brightness_endif
  351 000001FA F85D EB04       POP{LR}
  352 000001FE 4770            BX               LR
  353 00000200         
  354 00000200         
  355 00000200         BREATHE_handle_status
  356 00000200 B510            PUSH             {R4, LR}
  357 00000202         BREATHE_handle_status_loop
  358 00000202 F7FF FFDD       BL               BREATHE_read
  359 00000206 F010 0004       ANDS             R0,R0,#GPIO_BREATHE_PIN_MASK
  360 0000020A D006            BEQ              BREATHE_handle_status_endloop
  361 0000020C 48B9            LDR              R0,=BREATHE_dutycycle_ratio
  362 0000020E 6800            LDR              R0,[R0]
  363 00000210 F7FF FFC9       BL               LED_BREATHE_PWM
  364 00000214 F7FF FFD9       BL               BREATHE_update_brightness
  365 00000218 E7F3            B                BREATHE_handle_status_loop
  366 0000021A         BREATHE_handle_status_endloop
  367 0000021A E8BD 4010       POP{R4,          LR}
  368 0000021E 4770            BX               LR
  369 00000220         
  370 00000220         
  371 00000220                 ALIGN            4
  372 00000220         ; 256 points with values from 100 to 9900      
  373 00000220         PerlinTable
  374 00000220 F8 16 51 
              18 E1 14 
              00 0E D9 



ARM Macro Assembler    Page 9 


              0D A2 02 
              FB 13 56 
              02 73 1E 
              99 0E BF 
              0E 51 08 
              67 1D 3C 
              23 70 01 
              09 22 53 
              15 C6 05 
              CB 0F E0 
              04 B5 0A 
              A0 15 96 
              01               DCW              5880,6225,5345,3584,3545,674,51
15,598,7795,3737,3775,2129,7527,9020,368,8713,5459,1478,4043,1248,2741,5536,406
  375 0000024E 32 0F EC 
              05 48 24 
              88 03 E3 
              01 D4 03 
              CD 1C 4A 
              01 86 16 
              53 25 56 
              12 62 23 
              9B 0B 64 
              00 47 04 
              D9 1D A9 
              09 72 0E 
              13 26 24 
              21 BF 1E 
              E3 11 A0 
              05               DCW              3890,1516,9288,904,483,980,7373
,330,5766,9555,4694,9058,2971,100,1095,7641,2473,3698,9747,8484,7871,4579,1440
  376 0000027C 09 02 2D 
              05 EA 08 
              DC 1A 53 
              05 8D 0D 
              D5 23 AC 
              16 C4 08 
              66 0D 69 
              1A 62 03 
              15 13 BA 
              14 F6 19 
              83 19 8F 
              0A 8F 1A 
              75 0B 10 
              19 02 0B 
              6E 14 2D 
              15               DCW              521,1325,2282,6876,1363,3469,91
73,5804,2244,3430,6761,866,4885,5306,6646,6531,2703,6799,2933,6416,2818,5230,54
21
  377 000002AA 92 07 6E 
              04 37 19 
              E8 0B 39 
              16 04 18 
              EF 22 CD 
              0C FD 10 
              A2 22 A2 
              12 5D 09 
              F1 1F 47 
              14 C9 22 



ARM Macro Assembler    Page 10 


              4A 21 18 
              10 26 0E 
              86 06 9D 
              08 45 07 
              07 25            DCW              1938,1134,6455,3048,5689,6148,8
943,3277,4349,8866,4770,2397,8177,5191,8905,8522,4120,3622,1670,2205,1861,9479
  378 000002D6 5F 06 E1 
              24 A5 0F 
              C6 15 77 
              08 1C 0A 
              21 04 D0 
              09 77 18 
              8A 00 B1 
              20 5B 0C 
              4F 0B A5 
              1F C1 0B 
              21 14 5B 
              1C 7F 1F 
              B3 0D 15 
              03 AA 19 
              4C 1E B3 
              1D               DCW              1631,9441,4005,5574,2167,2588,1
057,2512,6263,138,8369,3163,2895,8101,3009,5153,7259,8063,3507,789,6570,7756,76
03
  379 00000304 94 14 D5 
              13 BD 11 
              81 1C 2B 
              18 40 0D 
              EA 18 58 
              0F B1 10 
              00 1E 43 
              1A 34 1C 
              D7 00 F6 
              09 2B 08 
              D7 20 30 
              22 C6 25 
              EF 12 C9 
              12 23 01 
              99 1E 13 
              06               DCW              5268,5077,4541,7297,6187,3392,6
378,3928,4273,7680,6723,7220,215,2550,2091,8407,8752,9670,4847,4809,291,7833,15
55
  380 00000332 5F 16 09 
              12 3B 13 
              86 26 A7 
              0C 1A 0D 
              18 20 58 
              1F 32 1F 
              37 09 56 
              22 6B 07 
              C9 02 10 
              09 EF 02 
              9B 1B A7 
              1C 94 04 
              AC 06 BD 
              21 C1 1B 
              D0 19 3E 
              20               DCW              5727,4617,4923,9862,3239,3354,8
216,8024,7986,2359,8790,1899,713,2320,751,7067,7335,1172,1708,8637,7105,6608,82



ARM Macro Assembler    Page 11 


54
  381 00000360 2F 12 7A 
              25 1F 17 
              B1 00 F8 
              06 6B 17 
              C4 18 DC 
              0A 70 21 
              45 17 7E 
              0F 92 17 
              5D 19 D2 
              06 1C 1A 
              BD 01 AE 
              13 AE 03 
              39 06 39 
              26 3B 03 
              0C 0F 8A 
              10               DCW              4655,9594,5919,177,1784,5995,63
40,2780,8560,5957,3966,6034,6493,1746,6684,445,5038,942,1593,9785,827,3852,4234
  382 0000038E D7 10 34 
              0C 4A 11 
              E3 21 15 
              23 02 1B 
              0E 1C 24 
              11 F1 0F 
              FD 20 2D 
              25 E5 0E 
              7C 22 ED 
              25 7A 05 
              94 24 40 
              1D FB 23 
              CB 1F ED 
              15 2F 02 
              F4 1C            DCW              4311,3124,4426,8675,8981,6914,7
182,4388,4081,8445,9517,3813,8828,9709,1402,9364,7488,9211,8139,5613,559,7412
  383 000003BA 28 1B 9E 
              18 6E 24 
              81 0C 04 
              08 13 16 
              88 23 A0 
              25 7C 02 
              21 24 64 
              10 B8 07 
              1A 1D 64 
              20 07 05 
              75 1B 26 
              1E 3E 10 
              DE 17 E8 
              1B F4 0C 
              E5 1E            DCW              6952,6302,9326,3201,2052,5651,9
096,9632,636,9249,4196,1976,7450,8292,1287,7029,7718,4158,6110,7144,3316,7909
  384 000003E6 B6 1A 96 
              11 7C 12 
              DE 07 1F 
              07 62 13 
              FD 00 D2 
              16 5F 26 
              07 15 AE 
              23 0C 1F 
              4C 0E 96 



ARM Macro Assembler    Page 12 


              21 70 11 
              69 0A BA 
              04 FB 03 
              28 0B BA 
              24 7A 15 
              88 13            DCW              6838,4502,4732,2014,1823,4962,2
53,5842,9823,5383,9134,7948,3660,8598,4464,2665,1210,1019,2856,9402,5498,5000
  385 00000412 8D 1D 0E 
              0C 43 0A 
              8A 20 83 
              09 B8 17 
              4F 1B            DCW              7565,3086,2627,8330,2435,6072,6
991
  386 00000420         ; 100 numbers from 0 to 10000
  387 00000420         ; sinusoidal shape
  388 00000420                 ALIGN            4
  389 00000420         SinTable
  390 00000420 88 13 BC 
              14 EE 15 
              1E 17 4B 
              18 72 19 
              94 1A AE 
              1B C1 1C 
              CA 1D            DCW              5000, 5308, 5614, 5918, 6219, 6
514, 6804, 7086, 7361, 7626
  391 00000434 C8 1E BB 
              1F A2 20 
              7C 21 48 
              22 04 23 
              B1 23 4E 
              24 DA 24 
              54 25            DCW              7880, 8123, 8354, 8572, 8776, 8
964, 9137, 9294, 9434, 9556
  392 00000448 BC 25 12 
              26 55 26 
              85 26 A2 
              26 AC 26 
              A2 26 85 
              26 55 26 
              12 26            DCW              9660, 9746, 9813, 9861, 9890, 9
900, 9890, 9861, 9813, 9746
  393 0000045C BC 25 54 
              25 DA 24 
              4E 24 B1 
              23 04 23 
              48 22 7C 
              21 A2 20 
              BB 1F            DCW              9660, 9556, 9434, 9294, 9137, 8
964, 8776, 8572, 8354, 8123
  394 00000470 C8 1E CA 
              1D C1 1C 
              AE 1B 94 
              1A 72 19 
              4B 18 1E 
              17 EE 15 
              BC 14            DCW              7880, 7626, 7361, 7086, 6804, 6
514, 6219, 5918, 5614, 5308
  395 00000484 88 13 54 
              12 22 11 



ARM Macro Assembler    Page 13 


              F2 0F C5 
              0E 9E 0D 
              7C 0C 62 
              0B 4F 0A 
              46 09            DCW              5000, 4692, 4386, 4082, 3781, 3
486, 3196, 2914, 2639, 2374
  396 00000498 48 08 55 
              07 6E 06 
              94 05 C8 
              04 0C 04 
              5F 03 C2 
              02 36 02 
              BC 01            DCW              2120, 1877, 1646, 1428, 1224, 1
036,  863,  706,  566,  444
  397 000004AC 54 01 FE 
              00 BB 00 
              8B 00 6E 
              00 64 00 
              6E 00 8B 
              00 BB 00 
              FE 00            DCW              340,  254,  187,  139,  110,  1
00,  110,  139,  187,  254
  398 000004C0 54 01 BC 
              01 36 02 
              C2 02 5F 
              03 0C 04 
              C8 04 94 
              05 6E 06 
              55 07            DCW              340,  444,  566,  706,  863, 10
36, 1224, 1428, 1646, 1877
  399 000004D4 48 08 46 
              09 4F 0A 
              62 0B 7C 
              0C 9E 0D 
              C5 0E F2 
              0F 22 11 
              54 12            DCW              2120, 2374, 2639, 2914, 3196, 3
486, 3781, 4082, 4386, 4692
  400 000004E8         
  401 000004E8         
  402 000004E8                 ALIGN                        ; make sure the end
                                                             of this section is
                                                             aligned
  403 000004E8                 END                          ; end of file
              00000000 
              00000000 
              400243FC 
              00000000 
              00000000 
Command Line: --debug --xref --diag_suppress=9931,A1950W --cpu=Cortex-M4 --fpu=
SoftVFP --depend=.\build\lab3.d -o.\build\lab3.o -I.\RTE\_Lab3 -IC:\Users\MintC
at\AppData\Local\Arm\Packs\ARM\CMSIS\5.9.0\CMSIS\Core\Include -IC:\Users\MintCa
t\AppData\Local\Arm\Packs\Keil\TM4C_DFP\1.1.0\Device\Include\TM4C123 --predefin
e="__EVAL SETA 1" --predefine="__UVISION_VERSION SETA 538" --predefine="_RTE_ S
ETA 1" --predefine="TM4C123GH6PM SETA 1" --predefine="_RTE_ SETA 1" --list=.\la
b3.lst src\Lab3.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

BREATHE_brightness_isIncrease 0000000C

Symbol: BREATHE_brightness_isIncrease
   Definitions
      At line 68 in file src\Lab3.s
   Uses
      At line 157 in file src\Lab3.s
      At line 331 in file src\Lab3.s

BREATHE_dutycycle_ratio 00000008

Symbol: BREATHE_dutycycle_ratio
   Definitions
      At line 67 in file src\Lab3.s
   Uses
      At line 152 in file src\Lab3.s
      At line 329 in file src\Lab3.s
      At line 361 in file src\Lab3.s

CHANGE_cycle_unit 00000000

Symbol: CHANGE_cycle_unit
   Definitions
      At line 64 in file src\Lab3.s
   Uses
      At line 142 in file src\Lab3.s
      At line 255 in file src\Lab3.s
      At line 266 in file src\Lab3.s

CHANGE_dutycycle_ratio 00000004

Symbol: CHANGE_dutycycle_ratio
   Definitions
      At line 65 in file src\Lab3.s
   Uses
      At line 147 in file src\Lab3.s
      At line 228 in file src\Lab3.s
      At line 257 in file src\Lab3.s
      At line 268 in file src\Lab3.s

DATA 00000000

Symbol: DATA
   Definitions
      At line 60 in file src\Lab3.s
   Uses
      None
Comment: DATA unused
5 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

.text 00000000

Symbol: .text
   Definitions
      At line 70 in file src\Lab3.s
   Uses
      None
Comment: .text unused
BREATHE_handle_status 00000200

Symbol: BREATHE_handle_status
   Definitions
      At line 355 in file src\Lab3.s
   Uses
      At line 96 in file src\Lab3.s
      At line 102 in file src\Lab3.s

BREATHE_handle_status_endloop 0000021A

Symbol: BREATHE_handle_status_endloop
   Definitions
      At line 366 in file src\Lab3.s
   Uses
      At line 360 in file src\Lab3.s
Comment: BREATHE_handle_status_endloop used once
BREATHE_handle_status_loop 00000202

Symbol: BREATHE_handle_status_loop
   Definitions
      At line 357 in file src\Lab3.s
   Uses
      At line 365 in file src\Lab3.s
Comment: BREATHE_handle_status_loop used once
BREATHE_read 000001C0

Symbol: BREATHE_read
   Definitions
      At line 320 in file src\Lab3.s
   Uses
      At line 358 in file src\Lab3.s
Comment: BREATHE_read used once
BREATHE_update_brightness 000001CA

Symbol: BREATHE_update_brightness
   Definitions
      At line 327 in file src\Lab3.s
   Uses
      At line 364 in file src\Lab3.s
Comment: BREATHE_update_brightness used once
BREATHE_update_brightness_else 000001EA

Symbol: BREATHE_update_brightness_else
   Definitions
      At line 343 in file src\Lab3.s
   Uses
      At line 335 in file src\Lab3.s
Comment: BREATHE_update_brightness_else used once
BREATHE_update_brightness_endif 000001FA




ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Relocatable symbols

Symbol: BREATHE_update_brightness_endif
   Definitions
      At line 350 in file src\Lab3.s
   Uses
      At line 339 in file src\Lab3.s
      At line 342 in file src\Lab3.s
      At line 347 in file src\Lab3.s

BREATHE_update_brightness_if 000001D4

Symbol: BREATHE_update_brightness_if
   Definitions
      At line 333 in file src\Lab3.s
   Uses
      None
Comment: BREATHE_update_brightness_if unused
CHANGE_get_dutycycle 0000013C

Symbol: CHANGE_get_dutycycle
   Definitions
      At line 253 in file src\Lab3.s
   Uses
      At line 98 in file src\Lab3.s
Comment: CHANGE_get_dutycycle used once
CHANGE_get_idlecycle 00000150

Symbol: CHANGE_get_idlecycle
   Definitions
      At line 264 in file src\Lab3.s
   Uses
      At line 104 in file src\Lab3.s
Comment: CHANGE_get_idlecycle used once
CHANGE_handle_event 00000112

Symbol: CHANGE_handle_event
   Definitions
      At line 226 in file src\Lab3.s
   Uses
      At line 282 in file src\Lab3.s
Comment: CHANGE_handle_event used once
CHANGE_handle_event_endif 00000122

Symbol: CHANGE_handle_event_endif
   Definitions
      At line 235 in file src\Lab3.s
   Uses
      At line 233 in file src\Lab3.s
Comment: CHANGE_handle_event_endif used once
CHANGE_handle_event_if 0000011C

Symbol: CHANGE_handle_event_if
   Definitions
      At line 231 in file src\Lab3.s
   Uses
      None
Comment: CHANGE_handle_event_if unused
CHANGE_handle_status 00000164

Symbol: CHANGE_handle_status



ARM Macro Assembler    Page 3 Alphabetic symbol ordering
Relocatable symbols

   Definitions
      At line 275 in file src\Lab3.s
   Uses
      At line 95 in file src\Lab3.s
      At line 101 in file src\Lab3.s

CHANGE_handle_status_endif 00000178

Symbol: CHANGE_handle_status_endif
   Definitions
      At line 283 in file src\Lab3.s
   Uses
      At line 280 in file src\Lab3.s
Comment: CHANGE_handle_status_endif used once
CHANGE_handle_status_if 0000016A

Symbol: CHANGE_handle_status_if
   Definitions
      At line 278 in file src\Lab3.s
   Uses
      None
Comment: CHANGE_handle_status_if unused
CHANGE_read 000000D6

Symbol: CHANGE_read
   Definitions
      At line 206 in file src\Lab3.s
   Uses
      At line 219 in file src\Lab3.s
      At line 277 in file src\Lab3.s

CHANGE_waitRelease 00000100

Symbol: CHANGE_waitRelease
   Definitions
      At line 216 in file src\Lab3.s
   Uses
      At line 281 in file src\Lab3.s
Comment: CHANGE_waitRelease used once
CHANGE_waitRelease_loop 00000102

Symbol: CHANGE_waitRelease_loop
   Definitions
      At line 218 in file src\Lab3.s
   Uses
      At line 221 in file src\Lab3.s
Comment: CHANGE_waitRelease_loop used once
EID1 00000000

Symbol: EID1
   Definitions
      At line 73 in file src\Lab3.s
   Uses
      At line 72 in file src\Lab3.s
Comment: EID1 used once
EID2 00000005

Symbol: EID2
   Definitions



ARM Macro Assembler    Page 4 Alphabetic symbol ordering
Relocatable symbols

      At line 75 in file src\Lab3.s
   Uses
      At line 74 in file src\Lab3.s
Comment: EID2 used once
GPIO_init 0000004A

Symbol: GPIO_init
   Definitions
      At line 119 in file src\Lab3.s
   Uses
      At line 91 in file src\Lab3.s
Comment: GPIO_init used once
LED_BREATHE_PWM 000001A6

Symbol: LED_BREATHE_PWM
   Definitions
      At line 306 in file src\Lab3.s
   Uses
      At line 363 in file src\Lab3.s
Comment: LED_BREATHE_PWM used once
LED_BREATHE_PWM_endloop 000001BA

Symbol: LED_BREATHE_PWM_endloop
   Definitions
      At line 315 in file src\Lab3.s
   Uses
      At line 311 in file src\Lab3.s
Comment: LED_BREATHE_PWM_endloop used once
LED_BREATHE_PWM_loop 000001AC

Symbol: LED_BREATHE_PWM_loop
   Definitions
      At line 309 in file src\Lab3.s
   Uses
      None
Comment: LED_BREATHE_PWM_loop unused
LED_blink 0000017E

Symbol: LED_blink
   Definitions
      At line 288 in file src\Lab3.s
   Uses
      At line 314 in file src\Lab3.s
Comment: LED_blink used once
LED_off 000000CA

Symbol: LED_off
   Definitions
      At line 198 in file src\Lab3.s
   Uses
      At line 103 in file src\Lab3.s
      At line 298 in file src\Lab3.s

LED_on 000000BE

Symbol: LED_on
   Definitions
      At line 190 in file src\Lab3.s
   Uses



ARM Macro Assembler    Page 5 Alphabetic symbol ordering
Relocatable symbols

      At line 97 in file src\Lab3.s
      At line 293 in file src\Lab3.s

PerlinTable 00000220

Symbol: PerlinTable
   Definitions
      At line 373 in file src\Lab3.s
   Uses
      None
Comment: PerlinTable unused
SinTable 00000420

Symbol: SinTable
   Definitions
      At line 389 in file src\Lab3.s
   Uses
      None
Comment: SinTable unused
Start 00000010

Symbol: Start
   Definitions
      At line 86 in file src\Lab3.s
   Uses
      At line 78 in file src\Lab3.s
Comment: Start used once
VARIABLE_init 0000006A

Symbol: VARIABLE_init
   Definitions
      At line 141 in file src\Lab3.s
   Uses
      At line 92 in file src\Lab3.s
Comment: VARIABLE_init used once
delay_100ns 00000094

Symbol: delay_100ns
   Definitions
      At line 165 in file src\Lab3.s
   Uses
      At line 171 in file src\Lab3.s
      At line 183 in file src\Lab3.s

delay_ms 000000A2

Symbol: delay_ms
   Definitions
      At line 175 in file src\Lab3.s
   Uses
      At line 99 in file src\Lab3.s
      At line 105 in file src\Lab3.s
      At line 296 in file src\Lab3.s
      At line 301 in file src\Lab3.s

delay_ms_endloop 000000BE

Symbol: delay_ms_endloop
   Definitions



ARM Macro Assembler    Page 6 Alphabetic symbol ordering
Relocatable symbols

      At line 187 in file src\Lab3.s
   Uses
      At line 177 in file src\Lab3.s
Comment: delay_ms_endloop used once
delay_ms_loop 000000B0

Symbol: delay_ms_loop
   Definitions
      At line 181 in file src\Lab3.s
   Uses
      At line 184 in file src\Lab3.s
Comment: delay_ms_loop used once
get_dutycycle 0000012A

Symbol: get_dutycycle
   Definitions
      At line 241 in file src\Lab3.s
   Uses
      At line 259 in file src\Lab3.s
      At line 295 in file src\Lab3.s

get_idlecycle 00000130

Symbol: get_idlecycle
   Definitions
      At line 246 in file src\Lab3.s
   Uses
      At line 270 in file src\Lab3.s
      At line 300 in file src\Lab3.s

loop 00000020

Symbol: loop
   Definitions
      At line 94 in file src\Lab3.s
   Uses
      At line 107 in file src\Lab3.s
Comment: loop used once
40 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Absolute symbols

BREATHE_CYCLE_UNIT_DEFAULT 00000001

Symbol: BREATHE_CYCLE_UNIT_DEFAULT
   Definitions
      At line 53 in file src\Lab3.s
   Uses
      At line 313 in file src\Lab3.s
Comment: BREATHE_CYCLE_UNIT_DEFAULT used once
BREATHE_DUTYCYCLE_RATIO_DEFAULT 00000003

Symbol: BREATHE_DUTYCYCLE_RATIO_DEFAULT
   Definitions
      At line 54 in file src\Lab3.s
   Uses
      At line 154 in file src\Lab3.s
      At line 308 in file src\Lab3.s

BREATHE_DUTYCYCLE_RATIO_INCREMENT 00000001

Symbol: BREATHE_DUTYCYCLE_RATIO_INCREMENT
   Definitions
      At line 55 in file src\Lab3.s
   Uses
      At line 336 in file src\Lab3.s
      At line 344 in file src\Lab3.s

CHANGE_CYCLE_UNIT_DEFAULT 00000032

Symbol: CHANGE_CYCLE_UNIT_DEFAULT
   Definitions
      At line 46 in file src\Lab3.s
   Uses
      At line 144 in file src\Lab3.s
Comment: CHANGE_CYCLE_UNIT_DEFAULT used once
CHANGE_DUTYCYCLE_RATIO_DEFAULT 00000003

Symbol: CHANGE_DUTYCYCLE_RATIO_DEFAULT
   Definitions
      At line 47 in file src\Lab3.s
   Uses
      At line 149 in file src\Lab3.s
Comment: CHANGE_DUTYCYCLE_RATIO_DEFAULT used once
GPIO_BREATHE_DATA_R 400243FC

Symbol: GPIO_BREATHE_DATA_R
   Definitions
      At line 50 in file src\Lab3.s
   Uses
      At line 321 in file src\Lab3.s
Comment: GPIO_BREATHE_DATA_R used once
GPIO_BREATHE_PIN_MASK 00000004

Symbol: GPIO_BREATHE_PIN_MASK
   Definitions
      At line 51 in file src\Lab3.s
   Uses
      At line 323 in file src\Lab3.s
      At line 359 in file src\Lab3.s




ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Absolute symbols

GPIO_CHANGE_DATA_R 400243FC

Symbol: GPIO_CHANGE_DATA_R
   Definitions
      At line 43 in file src\Lab3.s
   Uses
      At line 207 in file src\Lab3.s
Comment: GPIO_CHANGE_DATA_R used once
GPIO_CHANGE_PIN_MASK 00000001

Symbol: GPIO_CHANGE_PIN_MASK
   Definitions
      At line 44 in file src\Lab3.s
   Uses
      At line 209 in file src\Lab3.s
      At line 220 in file src\Lab3.s
      At line 279 in file src\Lab3.s

GPIO_LED_DATA_R 400243FC

Symbol: GPIO_LED_DATA_R
   Definitions
      At line 34 in file src\Lab3.s
   Uses
      At line 191 in file src\Lab3.s
      At line 199 in file src\Lab3.s

GPIO_LED_PIN_MASK 00000020

Symbol: GPIO_LED_PIN_MASK
   Definitions
      At line 35 in file src\Lab3.s
   Uses
      At line 193 in file src\Lab3.s
      At line 201 in file src\Lab3.s

GPIO_PORTE_DATA_R 400243FC

Symbol: GPIO_PORTE_DATA_R
   Definitions
      At line 28 in file src\Lab3.s
   Uses
      At line 34 in file src\Lab3.s
      At line 43 in file src\Lab3.s
      At line 50 in file src\Lab3.s

GPIO_PORTE_DEN_R 4002451C

Symbol: GPIO_PORTE_DEN_R
   Definitions
      At line 30 in file src\Lab3.s
   Uses
      At line 134 in file src\Lab3.s
Comment: GPIO_PORTE_DEN_R used once
GPIO_PORTE_DIR_R 40024400

Symbol: GPIO_PORTE_DIR_R
   Definitions
      At line 29 in file src\Lab3.s



ARM Macro Assembler    Page 3 Alphabetic symbol ordering
Absolute symbols

   Uses
      At line 129 in file src\Lab3.s
Comment: GPIO_PORTE_DIR_R used once
SYSCTL_RCGCGPIO_R 400FE608

Symbol: SYSCTL_RCGCGPIO_R
   Definitions
      At line 31 in file src\Lab3.s
   Uses
      At line 121 in file src\Lab3.s
Comment: SYSCTL_RCGCGPIO_R used once
15 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
External symbols

TExaS_Init 00000000

Symbol: TExaS_Init
   Definitions
      At line 58 in file src\Lab3.s
   Uses
      At line 89 in file src\Lab3.s
Comment: TExaS_Init used once
1 symbol
399 symbols in table
